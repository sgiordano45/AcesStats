<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Aces Stats</title>
<style>
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid #ccc; padding: 5px; text-align: center; }
  th { background-color: #eee; cursor: pointer; }
  th.sorted-asc::after { content: " ▲"; }
  th.sorted-desc::after { content: " ▼"; }
  a { text-decoration: none; color: blue; }
</style>
</head>
<body>

<h1>Mountainside Aces Historical Batting Stats</h1>

<table id="statsTable">
  <thead>
    <tr>
      <th data-sort="name">Name</th>
      <th data-sort="team">Team</th>
      <th data-sort="year">Year</th>
      <th data-sort="season">Season</th>
      <th data-sort="games">Games</th>
      <th data-sort="atBats">At Bats</th>
      <th data-sort="hits">Hits</th>
      <th data-sort="runs">Runs</th>
      <th data-sort="walks">Walks</th>
      <th data-sort="acesWar">AcesWar</th>
      <th data-sort="BA">BA</th>
      <th data-sort="OBP">OBP</th>
      <th data-sort="Sub">Sub</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script src="script.js"></script>
<script>
// Sorting logic
const table = document.getElementById('statsTable');
const headers = table.querySelectorAll('th');
let sortDirection = {};

headers.forEach(header => {
  header.addEventListener('click', () => {
    const sortKey = header.dataset.sort;
    const tbody = table.querySelector('tbody');
    const rows = Array.from(tbody.querySelectorAll('tr'));
    
    const currentDir = sortDirection[sortKey] === 'asc' ? 'desc' : 'asc';
    sortDirection = {}; // reset
    sortDirection[sortKey] = currentDir;

    // Remove previous sorted class
    headers.forEach(h => h.classList.remove('sorted-asc','sorted-desc'));
    header.classList.add(currentDir === 'asc' ? 'sorted-asc' : 'sorted-desc');

    rows.sort((a,b) => {
      let aText = a.querySelector(`td:nth-child(${header.cellIndex+1})`).textContent;
      let bText = b.querySelector(`td:nth-child(${header.cellIndex+1})`).textContent;

      const numA = parseFloat(aText.replace(/,/g,''));
      const numB = parseFloat(bText.replace(/,/g,''));

      if(!isNaN(numA) && !isNaN(numB)){
        return currentDir==='asc' ? numA-numB : numB-numA;
      } else {
        return currentDir==='asc' ? aText.localeCompare(bText) : bText.localeCompare(aText);
      }
    });

    tbody.innerHTML = '';
    rows.forEach(r => tbody.appendChild(r));
  });
});
</script>

</body>
</html>
